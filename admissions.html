<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admissions - King Solomon Junior Primary School</title>
    <meta name="description" content="Apply to King Solomon Junior Primary School. Learn about our admission process, requirements, fees, and how to enroll your child in quality education.">
    
    <link rel="stylesheet" href="css/styles.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600;700&family=Source+Serif+Pro:wght@400;600&display=swap" rel="stylesheet">
    <link rel="icon" type="image/svg+xml" href="images/favicon.svg">
</head>
<body class="admissions-page">
    <!-- Background Slideshow -->
    <div class="background-slideshow">
        <div class="bg-slide active" style="background-image: url('gallery/events/12.jpeg');"></div>
        <div class="bg-slide" style="background-image: url('gallery/events/14.jpeg');"></div>
        <div class="bg-slide" style="background-image: url('gallery/events/16.jpeg');"></div>
        <div class="bg-slide" style="background-image: url('gallery/events/26.jpeg');"></div>
        <div class="bg-slide" style="background-image: url('gallery/events/27.jpeg');"></div>
        <div class="bg-slide" style="background-image: url('gallery/events/35.jpeg');"></div>
        <div class="bg-slide" style="background-image: url('gallery/events/45.jpeg');"></div>
        <div class="bg-slide" style="background-image: url('gallery/events/46.jpeg');"></div>
    </div>
    
    <!-- Navigation -->
    <nav class="navbar" id="navbar">
        <div class="nav-container">
            <a href="index.html" class="nav-logo">
                <img src="gallery/badge.jpeg" alt="School Badge" class="badge">
                <span class="school-name">King Solomon Junior</span>
            </a>
            <div class="nav-menu" id="nav-menu">
                <a href="index.html" class="nav-link">Home</a>
                <a href="about.html" class="nav-link">About Us</a>
                <a href="academics.html" class="nav-link">Academics</a>
                <a href="admissions.html" class="nav-link active">Admissions</a>
                <a href="news.html" class="nav-link">News & Events</a>
                <a href="gallery.html" class="nav-link">Gallery</a>
                <a href="contact.html" class="nav-link">Contact</a>
            </div>
            <div class="nav-toggle" id="nav-toggle">
                <span class="bar"></span>
                <span class="bar"></span>
                <span class="bar"></span>
            </div>
        </div>
    </nav>

    <!-- Page Header -->
    <section class="page-header">
        <div class="container">
            <h1>Admissions</h1>
            <p>Join our community of learners and achievers</p>
        </div>
    </section>

    <!-- Application Process -->
    <section class="application-process animated-bg">
        <div class="container">
            <div class="section-header">
                <h2>How to Apply</h2>
                <p>Simple steps to enroll your child at King Solomon Junior</p>
            </div>
            <div class="process-steps">
                <div class="step">
                    <div class="step-number">1</div>
                    <div class="step-content">
                        <h3>Visit Our School</h3>
                        <p>Schedule a visit to tour our facilities and meet our staff. This helps you understand our learning environment and ask any questions.</p>
                        <ul>
                            <li>Call to schedule an appointment</li>
                            <li>Tour classrooms and facilities</li>
                            <li>Meet with the principal</li>
                            <li>Observe classes in session</li>
                        </ul>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">2</div>
                    <div class="step-content">
                        <h3>Complete Application</h3>
                        <p>Fill out the application form with all required information and submit the necessary documents.</p>
                        <ul>
                            <li>Download application form</li>
                            <li>Provide student's birth certificate</li>
                            <li>Submit previous school records</li>
                            <li>Include passport photos</li>
                        </ul>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">3</div>
                    <div class="step-content">
                        <h3>Assessment & Interview</h3>
                        <p>Your child will participate in a friendly assessment to determine their current level and needs.</p>
                        <ul>
                            <li>Academic assessment</li>
                            <li>Parent interview</li>
                            <li>Student interaction</li>
                            <li>Special needs evaluation (if applicable)</li>
                        </ul>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">4</div>
                    <div class="step-content">
                        <h3>Admission Decision</h3>
                        <p>We will review your application and notify you of the admission decision within one week.</p>
                        <ul>
                            <li>Application review</li>
                            <li>Admission committee decision</li>
                            <li>Notification letter</li>
                            <li>Next steps guidance</li>
                        </ul>
                    </div>
                </div>
                <div class="step">
                    <div class="step-number">5</div>
                    <div class="step-content">
                        <h3>Enrollment & Payment</h3>
                        <p>Complete the enrollment process by paying fees and submitting final documents.</p>
                        <ul>
                            <li>Fee payment</li>
                            <li>Medical examination</li>
                            <li>Uniform purchase</li>
                            <li>Orientation attendance</li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Entry Requirements -->
    <section class="entry-requirements">
        <div class="container">
            <div class="section-header">
                <h2>Entry Requirements</h2>
                <p>What you need to know before applying</p>
            </div>
            <div class="requirements-grid">
                <div class="requirement-card">
                    <h3>Age Requirements</h3>
                    <div class="age-groups">
                        <div class="age-group">
                            <h4>Pre-Primary (Nursery)</h4>
                            <p><strong>Age:</strong> 3-4 years</p>
                            <p>Must be 3 years old by January 1st of the academic year</p>
                        </div>
                        <div class="age-group">
                            <h4>Pre-Primary (Kindergarten)</h4>
                            <p><strong>Age:</strong> 4-5 years</p>
                            <p>Must be 4 years old by January 1st of the academic year</p>
                        </div>
                        <div class="age-group">
                            <h4>Grade 1</h4>
                            <p><strong>Age:</strong> 6-7 years</p>
                            <p>Must be 6 years old by January 1st of the academic year</p>
                        </div>
                    </div>
                </div>
                <div class="requirement-card">
                    <h3>Required Documents</h3>
                    <ul class="documents-list">
                        <li>‚úÖ Birth Certificate (original and copy)</li>
                        <li>‚úÖ Passport-size photographs (4 copies)</li>
                        <li>‚úÖ Previous school records (if applicable)</li>
                        <li>‚úÖ Transfer letter (for transfers)</li>
                        <li>‚úÖ Medical examination report</li>
                        <li>‚úÖ Immunization records</li>
                        <li>‚úÖ Parent/Guardian ID copy</li>
                        <li>‚úÖ Proof of residence</li>
                    </ul>
                </div>
                <div class="requirement-card">
                    <h3>Academic Requirements</h3>
                    <div class="academic-requirements">
                        <div class="requirement-item">
                            <h4>New Students (Pre-Primary)</h4>
                            <p>No formal academic requirements. Assessment focuses on readiness and social skills.</p>
                        </div>
                        <div class="requirement-item">
                            <h4>Grade 1 Entry</h4>
                            <p>Basic literacy and numeracy skills. Ability to follow simple instructions.</p>
                        </div>
                        <div class="requirement-item">
                            <h4>Transfer Students</h4>
                            <p>Previous academic records and performance in previous grade level.</p>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Fee Structure -->
    <section class="fee-structure section-with-pattern pattern-dots">
        <div class="container">
            <div class="section-header">
                <h2>Fee Structure 2024</h2>
                <p>Transparent and affordable education for all</p>
            </div>
            <div class="fees-grid">
                <div class="fee-card">
                    <h3>Pre-Primary (Nursery & Kindergarten)</h3>
                    <div class="fee-details">
                        <div class="fee-item">
                            <span class="fee-label">Term 1 Fees</span>
                            <span class="fee-amount">KSh 12,000</span>
                        </div>
                        <div class="fee-item">
                            <span class="fee-label">Term 2 Fees</span>
                            <span class="fee-amount">KSh 12,000</span>
                        </div>
                        <div class="fee-item">
                            <span class="fee-label">Term 3 Fees</span>
                            <span class="fee-amount">KSh 12,000</span>
                        </div>
                        <div class="fee-item total">
                            <span class="fee-label">Annual Total</span>
                            <span class="fee-amount">KSh 36,000</span>
                        </div>
                    </div>
                </div>
                <div class="fee-card">
                    <h3>Lower Primary (Grades 1-3)</h3>
                    <div class="fee-details">
                        <div class="fee-item">
                            <span class="fee-label">Term 1 Fees</span>
                            <span class="fee-amount">KSh 15,000</span>
                        </div>
                        <div class="fee-item">
                            <span class="fee-label">Term 2 Fees</span>
                            <span class="fee-amount">KSh 15,000</span>
                        </div>
                        <div class="fee-item">
                            <span class="fee-label">Term 3 Fees</span>
                            <span class="fee-amount">KSh 15,000</span>
                        </div>
                        <div class="fee-item total">
                            <span class="fee-label">Annual Total</span>
                            <span class="fee-amount">KSh 45,000</span>
                        </div>
                    </div>
                </div>
                <div class="fee-card">
                    <h3>Upper Primary (Grades 4-6)</h3>
                    <div class="fee-details">
                        <div class="fee-item">
                            <span class="fee-label">Term 1 Fees</span>
                            <span class="fee-amount">KSh 18,000</span>
                        </div>
                        <div class="fee-item">
                            <span class="fee-label">Term 2 Fees</span>
                            <span class="fee-amount">KSh 18,000</span>
                        </div>
                        <div class="fee-item">
                            <span class="fee-label">Term 3 Fees</span>
                            <span class="fee-amount">KSh 18,000</span>
                        </div>
                        <div class="fee-item total">
                            <span class="fee-label">Annual Total</span>
                            <span class="fee-amount">KSh 54,000</span>
                        </div>
                    </div>
                </div>
            </div>
            <div class="fee-notes">
                <h3>Additional Fees & Information</h3>
                <div class="additional-fees">
                    <div class="additional-fee">
                        <h4>One-time Fees</h4>
                        <ul>
                            <li>Registration Fee: KSh 2,000</li>
                            <li>Development Fee: KSh 3,000</li>
                            <li>Library Fee: KSh 1,000</li>
                            <li>Laboratory Fee: KSh 1,500</li>
                        </ul>
                    </div>
                    <div class="additional-fee">
                        <h4>Annual Fees</h4>
                        <ul>
                            <li>Sports Fee: KSh 1,500</li>
                            <li>Medical Fee: KSh 1,000</li>
                            <li>Transport (if applicable): KSh 8,000</li>
                            <li>Meals (optional): KSh 6,000</li>
                        </ul>
                    </div>
                </div>
                <div class="payment-info">
                    <h4>Payment Information</h4>
                    <ul>
                        <li>Fees can be paid in full or in installments</li>
                        <li>MPesa payments accepted (Till Number: 456789)</li>
                        <li>Bank transfers to our school account</li>
                        <li>Payment plans available for families in need</li>
                    </ul>
                </div>
            </div>
        </div>
    </section>

    <!-- Application Form -->
    <section class="application-form">
        <div class="container">
            <div class="section-header">
                <h2>Online Application</h2>
                <p>Submit your application online or download the form</p>
            </div>
            <div class="form-options">
                <div class="form-option">
                    <h3>Download Application Form</h3>
                    <p>Download and fill out the application form, then submit it to our school office.</p>
                    <a href="documents/application-form.html" class="btn btn-primary" target="_blank" style="margin-right: 10px;">View PDF Form</a>
                    <button onclick="downloadPDFForm()" class="btn btn-primary">Download PDF Form</button>
                </div>
                <div class="form-option">
                    <h3>Online Application</h3>
                    <p>Fill out the application form online and submit it directly through our website.</p>
                    <a href="enrollment.html" class="btn btn-secondary">Apply Online</a>
                    <br><br>
                    <small style="color: #666;">Admin: <a href="login.html" style="color: #667eea;">Login to Admin Portal</a></small>
                </div>
            </div>
        </div>
    </section>

    <!-- Important Dates -->
    <section class="important-dates">
        <div class="container">
            <div class="section-header">
                <h2>Important Dates 2024</h2>
                <p>Key dates for the admission process</p>
            </div>
            <div class="dates-grid">
                <div class="date-card">
                    <div class="date-month">January</div>
                    <div class="date-content">
                        <h3>Application Period Opens</h3>
                        <p>January 15, 2024</p>
                        <p>Applications for the 2024 academic year open</p>
                    </div>
                </div>
                <div class="date-card">
                    <div class="date-month">March</div>
                    <div class="date-content">
                        <h3>Application Deadline</h3>
                        <p>March 31, 2024</p>
                        <p>Last day to submit applications</p>
                    </div>
                </div>
                <div class="date-card">
                    <div class="date-month">April</div>
                    <div class="date-content">
                        <h3>Assessment Period</h3>
                        <p>April 1-15, 2024</p>
                        <p>Student assessments and interviews</p>
                    </div>
                </div>
                <div class="date-card">
                    <div class="date-month">May</div>
                    <div class="date-content">
                        <h3>Admission Letters</h3>
                        <p>May 1, 2024</p>
                        <p>Admission decisions and letters sent</p>
                    </div>
                </div>
                <div class="date-card">
                    <div class="date-month">May</div>
                    <div class="date-content">
                        <h3>Enrollment Deadline</h3>
                        <p>May 31, 2024</p>
                        <p>Last day to complete enrollment</p>
                    </div>
                </div>
                <div class="date-card">
                    <div class="date-month">September</div>
                    <div class="date-content">
                        <h3>Academic Year Begins</h3>
                        <p>September 2, 2024</p>
                        <p>First day of the new academic year</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section class="faq-section">
        <div class="container">
            <div class="section-header">
                <h2>Frequently Asked Questions</h2>
                <p>Common questions about admissions</p>
            </div>
            <div class="faq-grid">
                <div class="faq-item">
                    <h3>What is the class size?</h3>
                    <p>We maintain small class sizes with a maximum of 25 students per class to ensure personalized attention and quality learning.</p>
                </div>
                <div class="faq-item">
                    <h3>Do you offer scholarships?</h3>
                    <p>Yes, we offer merit-based scholarships and need-based financial assistance. Contact our office for more information.</p>
                </div>
                <div class="faq-item">
                    <h3>What are the school hours?</h3>
                    <p>School runs from 7:30 AM to 4:00 PM, Monday through Friday. Saturday classes are available for remedial work.</p>
                </div>
                <div class="faq-item">
                    <h3>Is transportation available?</h3>
                    <p>Yes, we provide school bus services to various areas in Homa Bay. Contact us for route information and fees.</p>
                </div>
                <div class="faq-item">
                    <h3>What meals are provided?</h3>
                    <p>We offer nutritious lunch and snacks. Special dietary requirements can be accommodated with prior notice.</p>
                </div>
                <div class="faq-item">
                    <h3>How do I track my child's progress?</h3>
                    <p>We provide regular progress reports, parent-teacher meetings, and an online portal for tracking academic performance.</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Application Modal -->
    <div id="applicationModal" class="modal">
        <div class="modal-content">
            <span class="close" onclick="closeApplicationModal()">&times;</span>
            <h2>Online Application Form</h2>
            <form id="onlineApplicationForm" class="application-form-content">
                <div class="form-section">
                    <h3>Student Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="studentFirstName">First Name *</label>
                            <input type="text" id="studentFirstName" name="studentFirstName" required>
                        </div>
                        <div class="form-group">
                            <label for="studentLastName">Last Name *</label>
                            <input type="text" id="studentLastName" name="studentLastName" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="dateOfBirth">Date of Birth *</label>
                            <input type="date" id="dateOfBirth" name="dateOfBirth" required>
                        </div>
                        <div class="form-group">
                            <label for="gender">Gender *</label>
                            <select id="gender" name="gender" required>
                                <option value="">Select Gender</option>
                                <option value="male">Male</option>
                                <option value="female">Female</option>
                            </select>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="applyingFor">Applying for Grade *</label>
                        <select id="applyingFor" name="applyingFor" required>
                            <option value="">Select Grade</option>
                            <option value="nursery">Nursery (Age 3-4)</option>
                            <option value="kindergarten">Kindergarten (Age 4-5)</option>
                            <option value="grade1">Grade 1 (Age 6-7)</option>
                            <option value="grade2">Grade 2</option>
                            <option value="grade3">Grade 3</option>
                            <option value="grade4">Grade 4</option>
                            <option value="grade5">Grade 5</option>
                            <option value="grade6">Grade 6</option>
                        </select>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Parent/Guardian Information</h3>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="parentFirstName">Parent/Guardian First Name *</label>
                            <input type="text" id="parentFirstName" name="parentFirstName" required>
                        </div>
                        <div class="form-group">
                            <label for="parentLastName">Parent/Guardian Last Name *</label>
                            <input type="text" id="parentLastName" name="parentLastName" required>
                        </div>
                    </div>
                    <div class="form-row">
                        <div class="form-group">
                            <label for="parentPhone">Phone Number *</label>
                            <input type="tel" id="parentPhone" name="parentPhone" required>
                        </div>
                        <div class="form-group">
                            <label for="parentEmail">Email Address *</label>
                            <input type="email" id="parentEmail" name="parentEmail" required>
                        </div>
                    </div>
                    <div class="form-group">
                        <label for="parentOccupation">Occupation</label>
                        <input type="text" id="parentOccupation" name="parentOccupation">
                    </div>
                    <div class="form-group">
                        <label for="address">Home Address *</label>
                        <textarea id="address" name="address" rows="3" required></textarea>
                    </div>
                </div>

                <div class="form-section">
                    <h3>Additional Information</h3>
                    <div class="form-group">
                        <label for="previousSchool">Previous School (if applicable)</label>
                        <input type="text" id="previousSchool" name="previousSchool">
                    </div>
                    <div class="form-group">
                        <label for="specialNeeds">Special Needs or Medical Conditions</label>
                        <textarea id="specialNeeds" name="specialNeeds" rows="3"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="additionalInfo">Additional Information</label>
                        <textarea id="additionalInfo" name="additionalInfo" rows="3"></textarea>
                    </div>
                </div>

                <div class="form-actions">
                    <button type="button" class="btn btn-outline" onclick="closeApplicationModal()">Cancel</button>
                    <button type="submit" class="btn btn-primary">Submit Application</button>
                </div>
            </form>
        </div>
    </div>

    <!-- Footer -->
    <footer class="footer">
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <div class="footer-logo">
                        <img src="images/logo.svg" alt="King Solomon Junior Primary School Logo" class="footer-logo-img">
                        <h3>King Solomon Junior Primary School</h3>
                    </div>
                    <p>Providing quality education and nurturing young minds in Homa Bay, Kenya.</p>
                    <div class="social-links">
                        <a href="#" class="social-link" aria-label="Facebook">üìò</a>
                        <a href="#" class="social-link" aria-label="Twitter">üê¶</a>
                        <a href="#" class="social-link" aria-label="Instagram">üì∑</a>
                        <a href="#" class="social-link" aria-label="YouTube">üì∫</a>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>Quick Links</h4>
                    <ul class="footer-links">
                        <li><a href="index.html">Home</a></li>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="academics.html">Academics</a></li>
                        <li><a href="admissions.html">Admissions</a></li>
                        <li><a href="news.html">News & Events</a></li>
                        <li><a href="gallery.html">Gallery</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h4>Contact Info</h4>
                    <div class="contact-info">
                        <p>üìç Township, Asego, Homa Bay</p>
                        <p>üìû +254 XXX XXX XXX</p>
                        <p>‚úâÔ∏è info@kingsolomonjunior.co.ke</p>
                    </div>
                </div>
                <div class="footer-section">
                    <h4>School Hours</h4>
                    <div class="school-hours">
                        <p>Monday - Friday: 7:30 AM - 4:00 PM</p>
                        <p>Saturday: 8:00 AM - 12:00 PM</p>
                        <p>Sunday: Closed</p>
                    </div>
                </div>
            </div>
            <div class="footer-bottom">
                <div class="footer-bottom-content">
                    <p>&copy; 2024 King Solomon Junior Primary School. All rights reserved.</p>
                    <div class="footer-bottom-links">
                        <a href="privacy.html">Privacy Policy</a>
                        <a href="terms.html">Terms of Service</a>
                    </div>
                </div>
            </div>
        </div>
    </footer>

    <script src="js/script.js"></script>
    <script>
        // Initialize API client (simplified version)
        const apiClient = {
            submitApplication: function(data) {
                // Simulate API call
                return new Promise((resolve) => {
                    setTimeout(() => {
                        resolve({ success: true, message: 'Application submitted successfully' });
                    }, 1000);
                });
            }
        };
        
        const emailManager = {
            sendEmail: function(template, data) {
                console.log('Email would be sent:', template, data);
                return Promise.resolve({ success: true });
            }
        };

        // Application Modal Functions
        function openApplicationModal() {
            document.getElementById('applicationModal').style.display = 'block';
        }

        function closeApplicationModal() {
            document.getElementById('applicationModal').style.display = 'none';
        }

        // Close modal when clicking outside
        window.onclick = function(event) {
            const modal = document.getElementById('applicationModal');
            if (event.target == modal) {
                modal.style.display = 'none';
            }
        }

        // Online Application Form Handler
        document.getElementById('onlineApplicationForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            
            try {
                // Show loading state
                submitBtn.textContent = 'Submitting...';
                submitBtn.disabled = true;
                
                // Get form data
                const formData = new FormData(this);
                const applicationData = apiClient.formatApplicationData(formData);
                
                // Validate data
                apiClient.validateApplicationData(applicationData);
                
                // Submit to database
                const response = await apiClient.submitApplication(applicationData);
                
                if (response.success) {
                    // Send confirmation email
                    try {
                        await apiClient.sendApplicationConfirmation(response.application_id);
                    } catch (emailError) {
                        console.warn('Email sending failed:', emailError);
                        // Don't fail the application if email fails
                    }
                    
                    // Show success message
                    showNotification(`Application submitted successfully! Your application ID is ${response.application_id}. We will contact you within 3 business days.`, 'success');
                    
                    // Reset form
                    this.reset();
                    closeApplicationModal();
                } else {
                    throw new Error(response.message || 'Application submission failed');
                }
                
            } catch (error) {
                console.error('Application submission error:', error);
                showNotification(error.message || 'Failed to submit application. Please try again.', 'error');
            } finally {
                // Reset button state
                submitBtn.textContent = originalText;
                submitBtn.disabled = false;
            }
        });

        // Notification system
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            // Style the notification
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 8px;
                color: white;
                font-weight: 500;
                z-index: 10000;
                max-width: 400px;
                box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            
            // Set background color based on type
            const colors = {
                success: '#10b981',
                error: '#ef4444',
                info: '#3b82f6',
                warning: '#f59e0b'
            };
            notification.style.backgroundColor = colors[type] || colors.info;
            
            // Add to page
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        // File upload handling for documents
        function setupFileUploads() {
            const fileInputs = document.querySelectorAll('input[type="file"]');
            
            fileInputs.forEach(input => {
                input.addEventListener('change', function(e) {
                    handleFileUpload(this);
                });
            });
        }

        function handleFileUpload(input) {
            const file = input.files[0];
            if (!file) return;
            
            // Validate file size (5MB max)
            const maxSize = 5 * 1024 * 1024;
            if (file.size > maxSize) {
                showNotification('File size too large. Maximum size is 5MB.', 'error');
                input.value = '';
                return;
            }
            
            // Validate file type
            const allowedTypes = ['.pdf', '.jpg', '.jpeg', '.png'];
            const fileExtension = '.' + file.name.split('.').pop().toLowerCase();
            if (!allowedTypes.includes(fileExtension)) {
                showNotification('Invalid file type. Please select a PDF, JPG, or PNG file.', 'error');
                input.value = '';
                return;
            }
            
            showNotification(`File "${file.name}" selected successfully.`, 'success');
        }

        // Form submission handling
        function setupApplicationForm() {
            const form = document.getElementById('onlineApplicationForm');
            if (form) {
                form.addEventListener('submit', function(e) {
                    e.preventDefault();
                    submitApplication();
                });
            }
        }

        // Submit application to API
        async function submitApplication() {
            const form = document.getElementById('onlineApplicationForm');
            const formData = new FormData(form);
            
            // Convert FormData to JSON
            const data = {};
            for (let [key, value] of formData.entries()) {
                data[key] = value;
            }
            
            // Add action
            data.action = 'submit';
            
            try {
                showNotification('Submitting application...', 'info');
                
                // Simulate application submission (demo mode)
                await new Promise(resolve => setTimeout(resolve, 2000));
                
                // Generate demo application ID
                const applicationId = 'APP' + Date.now().toString().slice(-6);
                
                showNotification('Application submitted successfully! Your application ID is: ' + applicationId, 'success');
                form.reset();
                closeApplicationModal();
                
            } catch (error) {
                console.error('Error:', error);
                showNotification('Failed to submit application. Please try again.', 'error');
            }
        }

        // Show notification function
        function showNotification(message, type = 'info') {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = `notification notification-${type}`;
            notification.textContent = message;
            
            // Style the notification
            notification.style.cssText = `
                position: fixed;
                top: 20px;
                right: 20px;
                padding: 15px 20px;
                border-radius: 5px;
                color: white;
                font-weight: 500;
                z-index: 10000;
                max-width: 400px;
                box-shadow: 0 4px 12px rgba(0,0,0,0.15);
                transform: translateX(100%);
                transition: transform 0.3s ease;
            `;
            
            // Set background color based on type
            switch(type) {
                case 'success':
                    notification.style.backgroundColor = '#10b981';
                    break;
                case 'error':
                    notification.style.backgroundColor = '#ef4444';
                    break;
                case 'warning':
                    notification.style.backgroundColor = '#f59e0b';
                    break;
                default:
                    notification.style.backgroundColor = '#3b82f6';
            }
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Remove after 5 seconds
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    if (notification.parentNode) {
                        notification.parentNode.removeChild(notification);
                    }
                }, 300);
            }, 5000);
        }

        // Initialize file uploads when page loads
        document.addEventListener('DOMContentLoaded', function() {
            setupFileUploads();
            setupApplicationForm();
        });
    </script>
    <script src="js/simple-pdf-generator.js"></script>
    <script src="js/pdf-generator.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
</body>
</html>
